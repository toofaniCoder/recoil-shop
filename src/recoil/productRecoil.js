import { atom, selector } from "recoil";

export const productState = atom({
  key: "productState",
  default: [
    {
      name: "Grapes",
      picture: "ðŸ‡",
      price: 481,
      type: "fruit",
      id: 1,
    },
    {
      name: "Melon",
      picture: "ðŸˆ",
      price: 426,
      type: "fruit",
      id: 2,
    },
    {
      name: "Watermelon",
      picture: "ðŸ‰",
      price: 362,
      type: "fruit",
      id: 3,
    },
    {
      name: "Tangerine",
      picture: "ðŸŠ",
      price: 162,
      type: "fruit",
      id: 4,
    },
    {
      name: "Lemon",
      picture: "ðŸ‹",
      price: 479,
      type: "fruit",
      id: 5,
    },
    {
      name: "Banana",
      picture: "ðŸŒ",
      price: 130,
      type: "fruit",
      id: 6,
    },
    {
      name: "Pineapple",
      picture: "ðŸ",
      price: 441,
      type: "fruit",
      id: 7,
    },
    {
      name: "Mango",
      picture: "ðŸ¥­",
      price: 184,
      type: "fruit",
      id: 8,
    },
    { name: "Red", picture: "ðŸŽ", price: 235, type: "fruit", id: 9 },
    {
      name: "Green",
      picture: "ðŸ",
      price: 260,
      type: "fruit",
      id: 10,
    },
    {
      name: "Pear",
      picture: "ðŸ",
      price: 454,
      type: "fruit",
      id: 11,
    },
    {
      name: "Peach",
      picture: "ðŸ‘",
      price: 201,
      type: "fruit",
      id: 12,
    },
    {
      name: "Cherries",
      picture: "ðŸ’",
      price: 64,
      type: "fruit",
      id: 13,
    },
    {
      name: "Strawberry",
      picture: "ðŸ“",
      price: 306,
      type: "fruit",
      id: 14,
    },
    {
      name: "Kiwi",
      picture: "ðŸ¥",
      price: 370,
      type: "fruit",
      id: 15,
    },
    {
      name: "Tomato",
      picture: "ðŸ…",
      price: 332,
      type: "fruit",
      id: 16,
    },
    {
      name: "Coconut",
      picture: "ðŸ¥¥",
      price: 33,
      type: "fruit",
      id: 17,
    },
    {
      name: "Avocado",
      picture: "ðŸ¥‘",
      price: 107,
      type: "fruit",
      id: 18,
    },
    {
      name: "Eggplant",
      picture: "ðŸ†",
      price: 141,
      type: "vegetables",
      id: 19,
    },
    {
      name: "Potato",
      picture: "ðŸ¥”",
      price: 182,
      type: "vegetables",
      id: 20,
    },
    {
      name: "Carrot",
      picture: "ðŸ¥•",
      price: 499,
      type: "vegetables",
      id: 21,
    },
    {
      name: "Ear",
      picture: "ðŸŒ½",
      price: 424,
      type: "vegetables",
      id: 22,
    },
    {
      name: "Hot",
      picture: "ðŸŒ¶",
      price: 207,
      type: "vegetables",
      id: 23,
    },
    {
      name: "Cucumber",
      picture: "ðŸ¥’",
      price: 4,
      type: "vegetables",
      id: 24,
    },
    {
      name: "Leafy",
      picture: "ðŸ¥¬",
      price: 363,
      type: "vegetables",
      id: 25,
    },
    {
      name: "Broccoli",
      picture: "ðŸ¥¦",
      price: 499,
      type: "vegetables",
      id: 26,
    },
    {
      name: "Garlic",
      picture: "ðŸ§„",
      price: 398,
      type: "vegetables",
      id: 27,
    },
    {
      name: "Onion",
      picture: "ðŸ§…",
      price: 21,
      type: "vegetables",
      id: 28,
    },
    {
      name: "Mushroom",
      picture: "ðŸ„",
      price: 481,
      type: "vegetables",
      id: 29,
    },
    {
      name: "Peanuts",
      picture: "ðŸ¥œ",
      price: 386,
      type: "meals",
      id: 30,
    },
    {
      name: "Chestnut",
      picture: "ðŸŒ°",
      price: 278,
      type: "meals",
      id: 31,
    },
    {
      name: "Bread",
      picture: "ðŸž",
      price: 116,
      type: "meals",
      id: 32,
    },
    {
      name: "Croissant",
      picture: "ðŸ¥",
      price: 103,
      type: "meals",
      id: 33,
    },
    {
      name: "Baguette",
      picture: "ðŸ¥–",
      price: 258,
      type: "meals",
      id: 34,
    },
    {
      name: "Pretzel",
      picture: "ðŸ¥¨",
      price: 100,
      type: "meals",
      id: 35,
    },
    {
      name: "Bagel",
      picture: "ðŸ¥¯",
      price: 497,
      type: "meals",
      id: 36,
    },
    {
      name: "Pancakes",
      picture: "ðŸ¥ž",
      price: 433,
      type: "meals",
      id: 37,
    },
    {
      name: "Waffle",
      picture: "ðŸ§‡",
      price: 437,
      type: "meals",
      id: 38,
    },
    {
      name: "Cheese",
      picture: "ðŸ§€",
      price: 443,
      type: "meals",
      id: 39,
    },
    {
      name: "Meat",
      picture: "ðŸ–",
      price: 355,
      type: "meals",
      id: 40,
    },
    {
      name: "Poultry",
      picture: "ðŸ—",
      price: 132,
      type: "meals",
      id: 41,
    },
    { name: "Cut", picture: "ðŸ¥©", price: 253, type: "meals", id: 42 },
    {
      name: "Bacon",
      picture: "ðŸ¥“",
      price: 53,
      type: "meals",
      id: 43,
    },
    {
      name: "Hamburger",
      picture: "ðŸ”",
      price: 456,
      type: "meals",
      id: 44,
    },
    {
      name: "French",
      picture: "ðŸŸ",
      price: 310,
      type: "meals",
      id: 45,
    },
    {
      name: "Pizza",
      picture: "ðŸ•",
      price: 135,
      type: "meals",
      id: 46,
    },
    { name: "Hot", picture: "ðŸŒ­", price: 423, type: "meals", id: 47 },
    {
      name: "Sandwich",
      picture: "ðŸ¥ª",
      price: 369,
      type: "meals",
      id: 48,
    },
    { name: "Taco", picture: "ðŸŒ®", price: 41, type: "meals", id: 49 },
    {
      name: "Burrito",
      picture: "ðŸŒ¯",
      price: 479,
      type: "meals",
      id: 50,
    },
    {
      name: "Stuffed",
      picture: "ðŸ¥™",
      price: 472,
      type: "meals",
      id: 51,
    },
    {
      name: "Falafel",
      picture: "ðŸ§†",
      price: 29,
      type: "meals",
      id: 52,
    },
    {
      name: "Cooking",
      picture: "ðŸ³",
      price: 427,
      type: "meals",
      id: 53,
    },
    {
      name: "Shallow",
      picture: "ðŸ¥˜",
      price: 232,
      type: "meals",
      id: 54,
    },
    { name: "Pot", picture: "ðŸ²", price: 39, type: "meals", id: 55 },
    {
      name: "Bowl",
      picture: "ðŸ¥£",
      price: 139,
      type: "meals",
      id: 56,
    },
    {
      name: "Green",
      picture: "ðŸ¥—",
      price: 310,
      type: "meals",
      id: 57,
    },
    {
      name: "Popcorn",
      picture: "ðŸ¿",
      price: 337,
      type: "meals",
      id: 58,
    },
    {
      name: "Butter",
      picture: "ðŸ§ˆ",
      price: 448,
      type: "meals",
      id: 59,
    },
    {
      name: "Salt",
      picture: "ðŸ§‚",
      price: 231,
      type: "meals",
      id: 60,
    },
    {
      name: "Canned",
      picture: "ðŸ¥«",
      price: 5,
      type: "meals",
      id: 61,
    },
    {
      name: "Bento",
      picture: "ðŸ±",
      price: 446,
      type: "meals",
      id: 62,
    },
    {
      name: "Rice",
      picture: "ðŸ˜",
      price: 439,
      type: "meals",
      id: 63,
    },
    {
      name: "Rice",
      picture: "ðŸ™",
      price: 176,
      type: "meals",
      id: 64,
    },
    {
      name: "Cooked",
      picture: "ðŸš",
      price: 469,
      type: "meals",
      id: 65,
    },
    {
      name: "Curry",
      picture: "ðŸ›",
      price: 352,
      type: "meals",
      id: 66,
    },
    {
      name: "Steaming",
      picture: "ðŸœ",
      price: 326,
      type: "meals",
      id: 67,
    },
    {
      name: "Spaghetti",
      picture: "ðŸ",
      price: 86,
      type: "meals",
      id: 68,
    },
    {
      name: "Roasted",
      picture: "ðŸ ",
      price: 102,
      type: "meals",
      id: 69,
    },
    {
      name: "Oden",
      picture: "ðŸ¢",
      price: 268,
      type: "meals",
      id: 70,
    },
    {
      name: "Sushi",
      picture: "ðŸ£",
      price: 66,
      type: "meals",
      id: 71,
    },
    {
      name: "Fried",
      picture: "ðŸ¤",
      price: 280,
      type: "meals",
      id: 72,
    },
    {
      name: "Fish",
      picture: "ðŸ¥",
      price: 237,
      type: "meals",
      id: 73,
    },
    {
      name: "Moon",
      picture: "ðŸ¥®",
      price: 359,
      type: "meals",
      id: 74,
    },
    {
      name: "Dango",
      picture: "ðŸ¡",
      price: 76,
      type: "meals",
      id: 75,
    },
    {
      name: "Dumpling",
      picture: "ðŸ¥Ÿ",
      price: 442,
      type: "meals",
      id: 76,
    },
    {
      name: "Fortune",
      picture: "ðŸ¥ ",
      price: 182,
      type: "meals",
      id: 77,
    },
    {
      name: "Takeout",
      picture: "ðŸ¥¡",
      price: 203,
      type: "meals",
      id: 78,
    },
    {
      name: "Oyster",
      picture: "ðŸ¦ª",
      price: 476,
      type: "meals",
      id: 79,
    },
    {
      name: "Soft",
      picture: "ðŸ¦",
      price: 225,
      type: "meals",
      id: 80,
    },
    {
      name: "Shaved",
      picture: "ðŸ§",
      price: 215,
      type: "meals",
      id: 81,
    },
    { name: "Ice", picture: "ðŸ¨", price: 82, type: "meals", id: 82 },
    {
      name: "Doughnut",
      picture: "ðŸ©",
      price: 473,
      type: "meals",
      id: 83,
    },
    {
      name: "Cookie",
      picture: "ðŸª",
      price: 419,
      type: "meals",
      id: 84,
    },
    {
      name: "Birthday",
      picture: "ðŸŽ‚",
      price: 399,
      type: "meals",
      id: 85,
    },
    {
      name: "Shortcake",
      picture: "ðŸ°",
      price: 298,
      type: "meals",
      id: 86,
    },
    {
      name: "Cupcake",
      picture: "ðŸ§",
      price: 418,
      type: "meals",
      id: 87,
    },
    { name: "Pie", picture: "ðŸ¥§", price: 376, type: "meals", id: 88 },
    {
      name: "Chocolate",
      picture: "ðŸ«",
      price: 266,
      type: "meals",
      id: 89,
    },
    {
      name: "Candy",
      picture: "ðŸ¬",
      price: 228,
      type: "meals",
      id: 90,
    },
    {
      name: "Lollipop",
      picture: "ðŸ­",
      price: 206,
      type: "meals",
      id: 91,
    },
    {
      name: "Custard",
      picture: "ðŸ®",
      price: 154,
      type: "meals",
      id: 92,
    },
    {
      name: "Honey",
      picture: "ðŸ¯",
      price: 458,
      type: "meals",
      id: 93,
    },
    {
      name: "Baby",
      picture: "ðŸ¼",
      price: 418,
      type: "meals",
      id: 94,
    },
    {
      name: "Glass",
      picture: "ðŸ¥›",
      price: 28,
      type: "meals",
      id: 95,
    },
    { name: "Hot", picture: "â˜•", price: 14, type: "meals", id: 96 },
    {
      name: "Teacup",
      picture: "ðŸµ",
      price: 116,
      type: "meals",
      id: 97,
    },
    {
      name: "Sake",
      picture: "ðŸ¶",
      price: 368,
      type: "meals",
      id: 98,
    },
    {
      name: "Bottle",
      picture: "ðŸ¾",
      price: 439,
      type: "beverages",
      id: 99,
    },
    {
      name: "Wine",
      picture: "ðŸ·",
      price: 101,
      type: "beverages",
      id: 100,
    },

    {
      name: "Cocktail",
      picture: "ðŸ¸",
      price: 468,
      type: "beverages",
      id: 101,
    },
    {
      name: "Tropical",
      picture: "ðŸ¹",
      price: 95,
      type: "beverages",
      id: 102,
    },
    {
      name: "Beer",
      picture: "ðŸº",
      price: 128,
      type: "beverages",
      id: 103,
    },
    {
      name: "Clinking",
      picture: "ðŸ»",
      price: 296,
      type: "beverages",
      id: 104,
    },
    {
      name: "Clinking",
      picture: "ðŸ¥‚",
      price: 378,
      type: "beverages",
      id: 105,
    },
    {
      name: "Tumbler",
      picture: "ðŸ¥ƒ",
      price: 276,
      type: "beverages",
      id: 106,
    },
    {
      name: "Cup",
      picture: "ðŸ¥¤",
      price: 81,
      type: "beverages",
      id: 107,
    },
    {
      name: "Beverage",
      picture: "ðŸ§ƒ",
      price: 97,
      type: "beverages",
      id: 108,
    },
    {
      name: "Mate",
      picture: "ðŸ§‰",
      price: 115,
      type: "beverages",
      id: 109,
    },
    {
      name: "Ice",
      picture: "ðŸ§Š",
      price: 161,
      type: "beverages",
      id: 110,
    },
    {
      name: "Chopsticks",
      picture: "ðŸ¥¢",
      price: 376,
      type: "utensils",
      id: 111,
    },
    {
      name: "Fork",
      picture: "ðŸ½",
      price: 494,
      type: "utensils",
      id: 112,
    },
    {
      name: "Fork",
      picture: "ðŸ´",
      price: 75,
      type: "utensils",
      id: 113,
    },
    {
      name: "Spoon",
      picture: "ðŸ¥„",
      price: 293,
      type: "utensils",
      id: 114,
    },
  ],
});

export const viewState = atom({
  key: "viewState",
  default: "column",
});

export const searchTextState = atom({
  key: "searchTextState",
  default: "",
});

export const productFilteredState = atom({
  key: "productFilteredState",
  default: "",
});

export const filteredProducts = selector({
  key: "filteredProducts",
  get: ({ get }) => {
    const products = get(productState);
    const searchText = get(searchTextState);
    const filterItem = get(productFilteredState);
    let filteredProducts = [];
    const re = new RegExp(searchText, "i");
    filteredProducts = products
      .filter((product) => product.name.match(re))
      .filter((product) =>
        filterItem == "" ? true : product.type == filterItem
      );

    return filteredProducts;
  },
});

export const filteredCounts = selector({
  key: "filteredCounts",
  get: ({ get }) => {
    let filtredProductsCount = get(filteredProducts);
    return filtredProductsCount.length;
  },
});
